<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Containerisation | SWE 2.0</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@mdi/font@6.6.96/css/materialdesignicons.min.css">
    <meta name="description" content="Documentation for SWE 2.0">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <link rel="preload" href="/assets/css/0.styles.7b02d6e4.css" as="style"><link rel="preload" href="/assets/js/app.df41618d.js" as="script"><link rel="preload" href="/assets/js/2.da368b61.js" as="script"><link rel="preload" href="/assets/js/26.a37d947c.js" as="script"><link rel="prefetch" href="/assets/js/10.aef4f5db.js"><link rel="prefetch" href="/assets/js/11.131cdaf7.js"><link rel="prefetch" href="/assets/js/12.41e8b4af.js"><link rel="prefetch" href="/assets/js/13.4c361092.js"><link rel="prefetch" href="/assets/js/14.a5313f31.js"><link rel="prefetch" href="/assets/js/15.3598b86b.js"><link rel="prefetch" href="/assets/js/16.6ceb63be.js"><link rel="prefetch" href="/assets/js/17.a5a3f9ad.js"><link rel="prefetch" href="/assets/js/18.cd92f3d4.js"><link rel="prefetch" href="/assets/js/19.8816a3ae.js"><link rel="prefetch" href="/assets/js/20.d88905c6.js"><link rel="prefetch" href="/assets/js/21.62b59321.js"><link rel="prefetch" href="/assets/js/22.e0ebce06.js"><link rel="prefetch" href="/assets/js/23.87ea0398.js"><link rel="prefetch" href="/assets/js/24.1844eb8a.js"><link rel="prefetch" href="/assets/js/25.3fd45770.js"><link rel="prefetch" href="/assets/js/3.a5346724.js"><link rel="prefetch" href="/assets/js/4.66006680.js"><link rel="prefetch" href="/assets/js/5.68481791.js"><link rel="prefetch" href="/assets/js/6.7f86ac42.js"><link rel="prefetch" href="/assets/js/7.7208f546.js"><link rel="prefetch" href="/assets/js/8.ae1faefc.js"><link rel="prefetch" href="/assets/js/9.9f626111.js">
    <link rel="stylesheet" href="/assets/css/0.styles.7b02d6e4.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">SWE 2.0</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/config/" class="nav-link">
  Config
</a></div><div class="nav-item"><a href="https://v1.vuepress.vuejs.org" target="_blank" rel="noopener noreferrer" class="nav-link external">
  VuePress
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/config/" class="nav-link">
  Config
</a></div><div class="nav-item"><a href="https://v1.vuepress.vuejs.org" target="_blank" rel="noopener noreferrer" class="nav-link external">
  VuePress
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><a href="/notes/bootcamp/" class="sidebar-heading clickable"><span>Bootcamp</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/notes/bootcamp/objects.html" class="sidebar-link">Objects</a></li><li><a href="/notes/bootcamp/classes.html" class="sidebar-link">Classes</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/notes/module-1/" class="sidebar-heading clickable"><span>Module 1</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/notes/module-2/" class="sidebar-heading clickable"><span>Module 2</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/notes/module-3/" class="sidebar-heading clickable router-link-active open"><span>Module 3</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/notes/module-3/containerisation.html" aria-current="page" class="active sidebar-link">Containerisation</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notes/module-3/containerisation.html#docker-basics" class="sidebar-link">Docker basics</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notes/module-3/containerisation.html#frontend-code" class="sidebar-link">Frontend code</a></li><li class="sidebar-sub-header"><a href="/notes/module-3/containerisation.html#frontend-dockerfile" class="sidebar-link">Frontend Dockerfile</a></li><li class="sidebar-sub-header"><a href="/notes/module-3/containerisation.html#building-images" class="sidebar-link">Building images</a></li><li class="sidebar-sub-header"><a href="/notes/module-3/containerisation.html#running-containers" class="sidebar-link">Running containers</a></li></ul></li><li class="sidebar-sub-header"><a href="/notes/module-3/containerisation.html#volumes" class="sidebar-link">Volumes</a></li><li class="sidebar-sub-header"><a href="/notes/module-3/containerisation.html#environment-variables" class="sidebar-link">Environment variables</a></li><li class="sidebar-sub-header"><a href="/notes/module-3/containerisation.html#deploying-to-heroku" class="sidebar-link">Deploying to Heroku</a></li><li class="sidebar-sub-header"><a href="/notes/module-3/containerisation.html#deploying-to-google-cloud" class="sidebar-link">Deploying to Google Cloud</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notes/module-3/containerisation.html#config" class="sidebar-link">Config</a></li><li class="sidebar-sub-header"><a href="/notes/module-3/containerisation.html#pushing-to-a-repo" class="sidebar-link">Pushing to a repo</a></li><li class="sidebar-sub-header"><a href="/notes/module-3/containerisation.html#set-up-a-kubernetes-cluster" class="sidebar-link">Set up a Kubernetes cluster</a></li><li class="sidebar-sub-header"><a href="/notes/module-3/containerisation.html#open-it-up-to-internet-traffic" class="sidebar-link">Open it up to internet traffic</a></li><li class="sidebar-sub-header"><a href="/notes/module-3/containerisation.html#update-your-app" class="sidebar-link">Update your app</a></li><li class="sidebar-sub-header"><a href="/notes/module-3/containerisation.html#delete-everything" class="sidebar-link">Delete everything</a></li></ul></li></ul></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/notes/extensions/" class="sidebar-heading clickable"><span>Extensions</span> <span class="arrow right"></span></a> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="containerisation"><a href="#containerisation" class="header-anchor">#</a> Containerisation</h1> <p>When we write software, we write it on a machine we have set up in a particular way. We have our version of node, our installed dependencies and binaries, and so on. If we share our code with someone else, what happens if their machine is set up in a different way? They might not be able to run our code.</p> <p>What we need to do, is wrap up everything into a nice little parcel - all of our code, its dependencies and even the operating system - and send it to someone so they can run it in a <strong>container</strong> on their machine.</p> <h2 id="docker-basics"><a href="#docker-basics" class="header-anchor">#</a> Docker basics</h2> <p>First of all, if you're using VS Code, download the Docker extension - it will make things easier for you.</p> <p>A <strong>container</strong> is a sandboxed environment in which our code and all of its dependencies can run on any machine.</p> <p>An <strong>image</strong> is a blueprint which instructs the machine how to build the container.</p> <p>A <strong>Dockerfile</strong> is a human-readable set of instructions which tells the machine how to build an image.</p> <p>The workflow goes like: you write your code; then your write a Dockerfile and use that to build an image; then share your image; so other people can run it in a container.</p> <p>Suppose we're building an app called randomiser. Our app has a separate frontend and backend. Here's the frontend code.</p> <h3 id="frontend-code"><a href="#frontend-code" class="header-anchor">#</a> Frontend code</h3> <div class="language-html extra-class"><pre class="language-html"><code><span class="token comment">&lt;!-- index.html --&gt;</span>
<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>X-UA-Compatible<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>IE=edge<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>viewport<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>width=device-width, initial-scale=1.0<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>stylesheet<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>style.css<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>bundle.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Document<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>container<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span> <span class="token property">flex-direction</span><span class="token punctuation">:</span> column<span class="token punctuation">;</span> <span class="token property">align-items</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span></span><span class="token punctuation">&quot;</span></span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>msg<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>msg<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Click below to get going!<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>btn<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>btn<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        Randomise
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// index.js</span>
<span class="token keyword">const</span> axios <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'axios'</span><span class="token punctuation">)</span>

<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">randomise</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> res <span class="token operator">=</span> <span class="token keyword">await</span> axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'http://localhost:5000/random'</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> txt <span class="token operator">=</span> res<span class="token punctuation">.</span>data
  document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'msg'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>innerText <span class="token operator">=</span> txt<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'load'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> btn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'btn'</span><span class="token punctuation">)</span>
  btn<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> randomise<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><div class="language-css extra-class"><pre class="language-css"><code><span class="token comment">/* style.css */</span>
<span class="token selector">body</span> <span class="token punctuation">{</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> <span class="token function">rgb</span><span class="token punctuation">(</span>49<span class="token punctuation">,</span> 61<span class="token punctuation">,</span> 61<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">padding</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token property">font-family</span><span class="token punctuation">:</span> Verdana<span class="token punctuation">,</span> Geneva<span class="token punctuation">,</span> Tahoma<span class="token punctuation">,</span> sans-serif<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.container</span> <span class="token punctuation">{</span>
  <span class="token property">padding</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 100vw<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 100vh<span class="token punctuation">;</span>
  <span class="token property">display</span><span class="token punctuation">:</span> grid<span class="token punctuation">;</span>
  <span class="token property">place-items</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.wrapper</span> <span class="token punctuation">{</span>
  <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
  <span class="token property">flex-direction</span><span class="token punctuation">:</span> column<span class="token punctuation">;</span>
  <span class="token property">align-items</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.msg</span> <span class="token punctuation">{</span>
  <span class="token property">color</span><span class="token punctuation">:</span> white<span class="token punctuation">;</span>
  <span class="token property">font-family</span><span class="token punctuation">:</span> Verdana<span class="token punctuation">,</span> Geneva<span class="token punctuation">,</span> Tahoma<span class="token punctuation">,</span> sans-serif<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.btn</span> <span class="token punctuation">{</span>
  <span class="token property">padding</span><span class="token punctuation">:</span> 1em<span class="token punctuation">;</span>
  <span class="token property">border-radius</span><span class="token punctuation">:</span> 25px<span class="token punctuation">;</span>
  <span class="token property">color</span><span class="token punctuation">:</span> white<span class="token punctuation">;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> <span class="token function">rgb</span><span class="token punctuation">(</span>194<span class="token punctuation">,</span> 38<span class="token punctuation">,</span> 152<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">font-weight</span><span class="token punctuation">:</span> bold<span class="token punctuation">;</span>
  <span class="token property">border</span><span class="token punctuation">:</span> solid 1px<span class="token punctuation">;</span>
  <span class="token property">cursor</span><span class="token punctuation">:</span> pointer<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.btn:hover</span> <span class="token punctuation">{</span>
  <span class="token property">box-shadow</span><span class="token punctuation">:</span> 3px 3px 0px <span class="token function">rgb</span><span class="token punctuation">(</span>119<span class="token punctuation">,</span> 119<span class="token punctuation">,</span> 119<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-json extra-class"><pre class="language-json"><code><span class="token comment">// package.json</span>
<span class="token punctuation">{</span>
  <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;frontend&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.0.0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;description&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;main&quot;</span><span class="token operator">:</span> <span class="token string">&quot;index.js&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;build&quot;</span><span class="token operator">:</span> <span class="token string">&quot;browserify index.js -o bundle.js&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;dev&quot;</span><span class="token operator">:</span> <span class="token string">&quot;watchify index.js -o bundle.js &amp; live-server --port=3000&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;start&quot;</span><span class="token operator">:</span> <span class="token string">&quot;browserify index.js -o bundle.js &amp; live-server --port=3000&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;keywords&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;author&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;license&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ISC&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;devDependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;browserify&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^17.0.0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;live-server&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^1.2.2&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;watchify&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^4.0.0&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;dependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;axios&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^0.27.2&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><h3 id="frontend-dockerfile"><a href="#frontend-dockerfile" class="header-anchor">#</a> Frontend Dockerfile</h3> <p>Before we continue, we should make a file called <code>.dockerignore</code> in the same directory as our <code>Dockerfile</code> containing</p> <div class="language-Dockerfile extra-class"><pre class="language-dockerfile"><code><span class="token comment"># .dockerignore</span>
node_modules
</code></pre></div><p>The Dockerfile for our code could look like this:</p> <div class="language-Dockerfile extra-class"><pre class="language-dockerfile"><code><span class="token comment"># Dockerfile</span>

<span class="token comment"># start with node version 16 on linux</span>
<span class="token instruction"><span class="token keyword">FROM</span> node:16</span>

<span class="token comment"># change to /app directory inside the container</span>
<span class="token comment"># if it doesn't exist, it gets created</span>
<span class="token instruction"><span class="token keyword">WORKDIR</span> /app</span>

<span class="token comment"># copy package and package-lock</span>
<span class="token instruction"><span class="token keyword">COPY</span> package*.json ./</span>

<span class="token comment"># install node dependencies</span>
<span class="token instruction"><span class="token keyword">RUN</span> npm install</span>

<span class="token comment"># make the .dockerignore file first!</span>
<span class="token instruction"><span class="token keyword">COPY</span> . .</span>

<span class="token comment"># make port 8080 accessible</span>
<span class="token instruction"><span class="token keyword">EXPOSE</span> 3000</span>

<span class="token instruction"><span class="token keyword">CMD</span> [<span class="token string">&quot;npm&quot;</span>, <span class="token string">&quot;run&quot;</span>, <span class="token string">&quot;start&quot;</span>]</span>
</code></pre></div><p>Note that exposing port 3000 doesn't mean we can access it in our browser - we need to forward the port to a port on our local machine (we'll do this later with the <code>-p</code> flag).</p> <h3 id="building-images"><a href="#building-images" class="header-anchor">#</a> Building images</h3> <p><strong>Dockerfile</strong> goes in, <strong>image</strong> comes out. Simple!</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment"># build the Dockerfile in cwd into an image, tage the image randomiser-frontend:</span>
$ <span class="token function">docker</span> build -t randomiser-frontend <span class="token builtin class-name">.</span>

<span class="token comment"># lists the images on your machine:</span>
$ <span class="token function">docker</span> images

<span class="token comment"># removes the image with id &lt;id&gt; (could also use &lt;tag&gt;):</span>
$ <span class="token function">docker</span> image <span class="token function">rm</span> <span class="token operator">&lt;</span>id<span class="token operator">&gt;</span>

<span class="token comment"># removes dangling images:</span>
$ <span class="token function">docker</span> image prune 
</code></pre></div><p>The <code>.</code> at the end of the first command is the path to the directory containing the dockerfile we want to build. Since the terminal is open in the same directory as the Dockerfile, <code>.</code> is all we need.</p> <p>The <code>-t randomiser-frontend</code> tags our <em>image</em>, so we don't need to copy and remember the id Docker assigns to it. (Remember, <code>-t</code> tags the image, not the container.)</p> <h3 id="running-containers"><a href="#running-containers" class="header-anchor">#</a> Running containers</h3> <p>Many <strong>containers</strong> can run the same <strong>image</strong>.</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># To create a new container and run an image inside it:</span>
$ <span class="token function">docker</span> run -d -p <span class="token number">4000</span>:3000 randomiser-frontend

<span class="token comment"># Then, to see a list of running containers, use:</span>
$ <span class="token function">docker</span> <span class="token function">ps</span>

<span class="token comment"># and to stop the container:</span>
$ <span class="token function">docker</span> container stop <span class="token operator">&lt;</span>id<span class="token operator">&gt;</span>

<span class="token comment"># and start it again:</span>
$ <span class="token function">docker</span> container start <span class="token operator">&lt;</span>id<span class="token operator">&gt;</span>

<span class="token comment"># to delete it:</span>
$ <span class="token function">docker</span> container <span class="token function">rm</span> <span class="token operator">&lt;</span>id<span class="token operator">&gt;</span>

<span class="token comment"># to prune containers not running:</span>
$ <span class="token function">docker</span> container prune
</code></pre></div><p>The first command will run the image tagged randomiser-frontend in a new container and display the containers id to us. The <code>-d</code> runs the container in detached mode, so the process in <code>CMD</code> doesn't take over our terminal. The <code>-p x:y</code> maps port <code>x</code> on our local machine to the port <code>y</code> <code>EXPOSE</code>d by the container.</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>With your container running, you can now head to http://localhost:3000 on your machine and see the app working!</p></div> <h2 id="volumes"><a href="#volumes" class="header-anchor">#</a> Volumes</h2> <p>It is inconvenient to stop and start our container every time we make a change.</p> <p>Since we're using watchify, any change to the source files will trigger a build for us. We can actually do this using a <strong>bind mount</strong>: this means a directory on the host machine is linked to a directory in the container. We can mount the source directory on the host machine to the /app directory using the <code>--mount</code> flag like so</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">docker</span> run <span class="token punctuation">\</span>
-p <span class="token number">4000</span>:3000 <span class="token punctuation">\</span>
--mount <span class="token assign-left variable">type</span><span class="token operator">=</span>bind,src<span class="token operator">=</span><span class="token string">&quot;<span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">pwd</span><span class="token variable">)</span></span>&quot;</span>,target<span class="token operator">=</span>/app <span class="token punctuation">\</span>
randomiser-frontend
</code></pre></div><p>Now when we make changes to the source code, they will be reflected in the container, which will trigger watchify to restart the server for us.</p> <h2 id="environment-variables"><a href="#environment-variables" class="header-anchor">#</a> Environment variables</h2> <p>If we make a <code>.env</code> file in the project root, we can add</p> <div class="language- extra-class"><pre class="language-text"><code>PORT=3000
</code></pre></div><p>and then put</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">docker</span> run <span class="token punctuation">\</span>
-p <span class="token number">4000</span>:3000 <span class="token punctuation">\</span>
--mount <span class="token assign-left variable">type</span><span class="token operator">=</span>bind,src<span class="token operator">=</span><span class="token string">&quot;<span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">pwd</span><span class="token variable">)</span></span>&quot;</span>,target<span class="token operator">=</span>/app <span class="token punctuation">\</span>
--env-file .env <span class="token punctuation">\</span>
randomiser-frontend
</code></pre></div><p>We can now use ${PORT} throughout our app (including the EXPOSEd port in the Dockerfile). This is important when we deploy to Heroku, as it will inject a random PORT into our app.</p> <h2 id="deploying-to-heroku"><a href="#deploying-to-heroku" class="header-anchor">#</a> Deploying to Heroku</h2> <p>Sign up for an account with <a href="https://id.heroku.com/login" target="_blank" rel="noopener noreferrer">Heroku<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <p>Install the <a href="https://devcenter.heroku.com/articles/heroku-cli" target="_blank" rel="noopener noreferrer">Heroku CLI<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> and login with</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ heroku login
</code></pre></div><p>then you must login to Heroku's container registry with</p> <div class="language- extra-class"><pre class="language-text"><code>$ heroku container:login
</code></pre></div><p>Make sure you're in the directory of the app you want to push, and run</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ heroku create
</code></pre></div><p>to create your app on Heroku. Your app gets assigned a random name. You should now be able to see your app on the Heroku dashboard.</p> <p>To build and then push your app, use</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ heroku container:push web --app calm-beyond-78023
</code></pre></div><p>This may take some time! You will see that the image created by this process was tagged with</p> <div class="language- extra-class"><pre class="language-text"><code>registry.heroku.com/calm-beyond-78023/web:latest
</code></pre></div><p>This is in the form</p> <div class="language- extra-class"><pre class="language-text"><code>&lt;registry&gt;/&lt;app-name&gt;/&lt;process-type&gt;
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>If you want to push a pre-built image you can use</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">docker</span> tag <span class="token operator">&lt;</span>image-id<span class="token operator">&gt;</span> registry.heroku.com/<span class="token operator">&lt;</span>app-name<span class="token operator">&gt;</span>/<span class="token operator">&lt;</span>process-type<span class="token operator">&gt;</span>
$ <span class="token function">docker</span> push registry.heroku.com/<span class="token operator">&lt;</span>app-name<span class="token operator">&gt;</span>/<span class="token operator">&lt;</span>process-type<span class="token operator">&gt;</span>
</code></pre></div></div> <p>Finally, we release the app with</p> <div class="language- extra-class"><pre class="language-text"><code>$ heroku container:release web --app calm-beyond-78023
</code></pre></div><h2 id="deploying-to-google-cloud"><a href="#deploying-to-google-cloud" class="header-anchor">#</a> Deploying to Google Cloud</h2> <p>Create a new project on the <a href="https://console.cloud.google.com/" target="_blank" rel="noopener noreferrer">Google Cloud Console<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> and get the <a href="https://cloud.google.com/sdk/docs/install" target="_blank" rel="noopener noreferrer">cli installed<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> for your system. Under APIs and Services, enable the Artifacts API and the Kubernetes Engine API.</p> <h3 id="config"><a href="#config" class="header-anchor">#</a> Config</h3> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># login in with google</span>
gcloud auth login

<span class="token comment"># install kubernetes with</span>
$ gcloud components <span class="token function">install</span> kubectl

<span class="token comment"># save project id as an env variable for ease:</span>
$ <span class="token builtin class-name">export</span> <span class="token assign-left variable">PROJECT_ID</span><span class="token operator">=</span><span class="token operator">&lt;</span>get the project <span class="token function">id</span> from your cloud console<span class="token operator">&gt;</span>

<span class="token comment"># set it as your project id with the gcloud cli</span>
$ gcloud config <span class="token builtin class-name">set</span> project <span class="token variable">$PROJECT_ID</span>

<span class="token comment"># save your location as an environment variable</span>
$ <span class="token builtin class-name">export</span> <span class="token assign-left variable">LOCATION</span><span class="token operator">=</span>europe-west1
</code></pre></div><div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>For GDPR purposes, EU user data should never pass outside of the EU except under special circumstances. It's a good idea to do some reading about this!</p></div> <h3 id="pushing-to-a-repo"><a href="#pushing-to-a-repo" class="header-anchor">#</a> Pushing to a repo</h3> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># create a new repo for your containers</span>
$ gcloud artifacts repositories create random-repo --repository-format<span class="token operator">=</span>docker --location<span class="token operator">=</span><span class="token variable">${LOCATION}</span> --description<span class="token operator">=</span><span class="token string">&quot;Docker repo&quot;</span>

<span class="token comment"># have a look at the repo you have:</span>
$ gcloud artifacts repositories list

<span class="token comment"># and for convenience let's keep it as a var:</span>
$ <span class="token builtin class-name">export</span> <span class="token assign-left variable">REPO</span><span class="token operator">=</span><span class="token variable">${LOCATION}</span>-docker.pkg.dev/<span class="token variable">${PROJECT_ID}</span>/random-repo

<span class="token comment"># build and tag an image you want to deploy</span>
$ <span class="token function">docker</span> build -t <span class="token variable">${REPO}</span>/random-app:v1 <span class="token builtin class-name">.</span>

<span class="token comment"># sign in to the new registry with Docker</span>
$ gcloud auth print-access-token <span class="token operator">|</span> <span class="token function">docker</span> login -u oauth2accesstoken --password-stdin <span class="token variable">${LOCATION}</span>-docker.pkg.dev

<span class="token comment"># finally push your image to the repo</span>
$ <span class="token function">docker</span> push <span class="token variable">${REPO}</span>/random-app:v1

<span class="token comment"># you can check that your image has been pushed using</span>
$ gcloud artifacts <span class="token function">docker</span> images list <span class="token variable">${REPO}</span>
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>You might need to run <code>gcloud auth print-access-token | docker login -u oauth2accesstoken --password-stdin ${LOCATION}-docker.pkg.dev</code> again in the future, because the access token is short-lived.</p></div> <h3 id="set-up-a-kubernetes-cluster"><a href="#set-up-a-kubernetes-cluster" class="header-anchor">#</a> Set up a Kubernetes cluster</h3> <p>For this section, you'll need <a href="https://kubernetes.io/docs/tasks/tools/" target="_blank" rel="noopener noreferrer">kubectl<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>. You'll need to choose a zone for your Kubernetes cluster. You can run <code>gcloud compute zones list</code> to see what's available.</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># set an env variable for convenience</span>
$ <span class="token builtin class-name">export</span> <span class="token assign-left variable">COMPUTE_ZONE</span><span class="token operator">=</span>europe-west2-a

<span class="token comment"># Set your region in config:</span>
$ gcloud config <span class="token builtin class-name">set</span> compute/zone <span class="token variable">${COMPUTE_ZONE}</span>

<span class="token comment"># create a cluster with</span>
$ gcloud container clusters create random-cluster

<span class="token comment"># now you should be able to see your new cluster with</span>
$ kubectl config get-contexts

<span class="token comment"># make sure your context is set to your new cluster</span>
$ kubectl config current-context

<span class="token comment"># if necessary, switch to the gke context:</span>
$ kubectl config use-context CONTEXT_NAME

<span class="token comment"># now check on your cluster with</span>
$ kubectl get nodes

<span class="token comment"># if you want a bit more info on one of them try this</span>
$ kubectl describe <span class="token function">node</span> NODE_NAME

<span class="token comment"># make sure you're connected to your cluster</span>
$ gcloud container clusters get-credentials random-cluster --zone <span class="token variable">${COMPUTE_ZONE}</span>

<span class="token comment"># create a Kubernetes deployment for your docker image</span>
$ kubectl create deployment random-app --image<span class="token operator">=</span><span class="token variable">${REPO}</span>/random-app:v1

<span class="token comment"># in a separate terminal, watch your pods:</span>
$ kubectl get pods --watch

<span class="token comment"># set your deployment up to start with 3 replicas</span>
$ kubectl scale deployment random-app --replicas<span class="token operator">=</span><span class="token number">3</span>

<span class="token comment"># set up horizontal scaling</span>
$ kubectl autoscale deployment random-app --cpu-percent<span class="token operator">=</span><span class="token number">80</span> --min<span class="token operator">=</span><span class="token number">1</span> --max<span class="token operator">=</span><span class="token number">5</span>

<span class="token comment"># if you're not watching them already, take a look at your lovely pods!</span>
$ kubectl get pods

<span class="token comment"># you can also check the logs of any pod you want with</span>
$ kubectl logs pod <span class="token operator">&lt;</span>pod-name<span class="token operator">&gt;</span>
</code></pre></div><h3 id="open-it-up-to-internet-traffic"><a href="#open-it-up-to-internet-traffic" class="header-anchor">#</a> Open it up to internet traffic</h3> <p>To expose the cluster to the internet, we use a service to group the pods together into a single static IP address reachable from any pod inside the cluster. The target-port should match the port on which our app's service is runnning.</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># expose to the internet</span>
$ kubectl expose deployment random-app --name<span class="token operator">=</span>random-app-service --type<span class="token operator">=</span>LoadBalancer --port <span class="token number">80</span> --target-port <span class="token number">3000</span>

<span class="token comment"># we can find the details about our service by running</span>
kubectl get <span class="token function">service</span>

<span class="token comment"># you should see some output like this:</span>
NAME                TYPE           CLUSTER-IP    EXTERNAL-IP    PORT<span class="token punctuation">(</span>S<span class="token punctuation">)</span>        AGE
random-app-service   LoadBalancer   <span class="token number">10.12</span>.11.65   <span class="token number">34.89</span>.19.141   <span class="token number">80</span>:31710/TCP   2m40s
</code></pre></div><p>If you visit the external IP in your browser, you should see your app up and running!</p> <h3 id="update-your-app"><a href="#update-your-app" class="header-anchor">#</a> Update your app</h3> <p>If you make some changes in your app and rebuild it to a new version, you can push and update your app. Kubernetes uses rolling updates to ensure your app has zero downtime. If you're quick with the <code>watch kubectl get pods</code> command you can see your pods updating sequentially.</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># rebuild your image</span>
$ <span class="token function">docker</span> build -t <span class="token variable">${LOCATION}</span>-docker.pkg.dev/<span class="token variable">${PROJECT_ID}</span>/random-repo/random-app:v2 <span class="token builtin class-name">.</span>

<span class="token comment"># and push it to your registry</span>
$ <span class="token function">docker</span> push <span class="token variable">${LOCATION}</span>-docker.pkg.dev/<span class="token variable">${PROJECT_ID}</span>/random-repo/random-app:v2

<span class="token comment"># you can perform a rolling update with</span>
$ kubectl <span class="token builtin class-name">set</span> image deployment/random-app random-app<span class="token operator">=</span><span class="token variable">${LOCATION}</span>-docker.pkg.dev/<span class="token variable">${PROJECT_ID}</span>/random-repo/random-app:v2

<span class="token comment"># If you are quick, you can watch the rolling deploy take place with</span>
$ <span class="token function">watch</span> kubectl get pods
</code></pre></div><h3 id="delete-everything"><a href="#delete-everything" class="header-anchor">#</a> Delete everything</h3> <p>To make sure you don't get charged for leaving your services running, you should clean them up.</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># Delete the service</span>
$ kubectl delete <span class="token function">service</span> random-app-service

<span class="token comment"># Delete the cluster</span>
$ gcloud container clusters delete random-cluster --zone <span class="token variable">${COMPUTE_ZONE}</span>

<span class="token comment"># Delete your images</span>
$ gcloud artifacts <span class="token function">docker</span> images delete <span class="token variable">${LOCATION}</span>-docker.pkg.dev/<span class="token variable">${PROJECT_ID}</span>/random-repo/random-app:v1 --delete-tags
$ gcloud artifacts <span class="token function">docker</span> images delete <span class="token variable">${LOCATION}</span>-docker.pkg.dev/<span class="token variable">${PROJECT_ID}</span>/random-repo/random-app:v2 --delete-tags

<span class="token comment">#...or you can delete all images with</span>
$ gcloud artifacts <span class="token function">docker</span> images delete <span class="token variable">${LOCATION}</span>-docker.pkg.dev/<span class="token variable">${PROJECT_ID}</span>/random-repo/random-app

<span class="token comment"># and you can delete your repo with</span>
$ gcloud artifacts repositories delete random-repo -- location <span class="token variable">${LOCATION}</span>
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/notes/module-2/jwt.html" class="prev">
        Javascript Web Tokens
      </a></span> <span class="next"><a href="/notes/extensions/cryptography.html">
        Cryptography
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.df41618d.js" defer></script><script src="/assets/js/2.da368b61.js" defer></script><script src="/assets/js/26.a37d947c.js" defer></script>
  </body>
</html>
